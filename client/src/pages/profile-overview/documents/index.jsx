import React, { useState, useEffect } from 'react';
import { usePartner } from '../../../context/partnerContext';
import {
  getFormattedDate,
  getUrlDownloadDocument,
} from '../../../helpers/util';
import downloadIcon from "../../../assets/img/download-icon.svg";

function Documents() {
  const { documents, getDocuments } = usePartner();

  useEffect(() => {
    getDocuments();
  }, [documents]);

  const [page, setPage] = useState(1);
  const [show, setShow] = useState(4);
  return (
    <div
      className="tab-pane fade show active"
      id="tab_4"
      role="tabpanel"
      aria-labelledby="nav-home-tab"
    >
      <div className="crancy-table crancy-table__tabs mg-top-30">
        <div className="crancy-table__heading">
          <h3 className="crancy-table__title mb-0">Documentos del socio</h3>
        </div>
        <div className="tab-content" id="myTabContent">
          <div
            className="tab-pane fade show active"
            id="table_documents1"
            role="tabpanel"
            aria-labelledby="table_documents1"
          >
            {/* <!-- crancy Table --> */}
            <table
              id="crancy-table__document"
              className="crancy-table__main crancy-table__main-v1"
            >
              {/* <!-- crancy Table Head --> */}
              <thead className="crancy-table__head">
                <tr>
                  <th className="crancy-table__column-2 crancy-table__h2">
                    Categoría
                  </th>
                  <th className="crancy-table__column-2 crancy-table__h3">
                    Nombre de fichero
                  </th>
                  <th className="crancy-table__column-3 crancy-table__h4">
                    Tipo
                  </th>
                  <th className="crancy-table__column-4 crancy-table__h5">
                    Tamaño
                  </th>
                  <th className="crancy-table__column-5 crancy-table__h6">
                    Fecha de anexado
                  </th>
                  <th className="crancy-table__column-6 crancy-table__h7">
                    Acción
                  </th>
                </tr>
              </thead>
              {/* <!-- crancy Table Body --> */}
              <tbody className="crancy-table__body">
                {documents?.map((document, index) => {
                  const current = page * show;
                  const previous = current - show;
                  if (
                    previous > 0 &&
                    index + 1 > previous &&
                    index + 1 <= current
                  ) {
                    return (
                      <tr key={index + 'key'}>
                        <td className="crancy-table__column-5 crancy-table__data-2">
                          <p className="crancy-table__text">
                            {document?.module === 'membershipfees'
                              ? 'Cuotas de socio'
                              : document?.module === 'partners'
                              ? 'Socio'
                              : document?.module === 'associations'
                              ? 'Asociación'
                              : ''}
                          </p>
                        </td>
                        <td className="crancy-table__column-2 crancy-table__data-3">
                          <div className="crancy-table-file">
                            <div className="crancy-table-file__icon crancy-color5__opacity--bg">
                              {document?.extension === 'pdf' ? (
                                <svg
                                  className="crancy-color1__fill"
                                  width="15"
                                  height="20"
                                  viewBox="0 0 15 20"
                                  fill="none"
                                  xmlns="http://www.w3.org/2000/svg"
                                >
                                  <path
                                    d="M14.8779 4.28875L10.7113 0.12207C10.6331 0.0439453 10.5273 0 10.4166 0H1.66664C0.747461 0 0 0.747461 0 1.66668V18.3334C0 19.2525 0.747461 20 1.66668 20H13.3334C14.2525 20 15 19.2525 15 18.3333V4.58332C15 4.47266 14.9561 4.36688 14.8779 4.28875ZM10.8333 1.42254L13.5775 4.16668H11.6666C11.2073 4.16668 10.8333 3.79273 10.8333 3.33336V1.42254ZM14.1667 18.3333C14.1667 18.7927 13.7927 19.1666 13.3334 19.1666H1.66668C1.2073 19.1666 0.833359 18.7927 0.833359 18.3333V1.66668C0.833359 1.2073 1.2073 0.833359 1.66668 0.833359H10V3.33336C10 4.25254 10.7475 5 11.6667 5H14.1667V18.3333Z"
                                    fill="#0A82FD"
                                  />
                                  <path
                                    d="M9.62441 12.2322C9.23867 11.9286 8.87207 11.6166 8.62793 11.3724C8.31055 11.055 8.02773 10.7474 7.78199 10.4545C8.16531 9.26996 8.33336 8.65922 8.33336 8.33367C8.33336 6.95062 7.83367 6.66699 7.08336 6.66699C6.51328 6.66699 5.83336 6.9632 5.83336 8.37355C5.83336 8.99531 6.17395 9.75012 6.84898 10.6274C6.68379 11.1315 6.48969 11.713 6.2716 12.3685C6.1666 12.683 6.0527 12.9744 5.93223 13.2438C5.83418 13.2873 5.73895 13.3316 5.64699 13.3776C5.31578 13.5432 5.00125 13.6921 4.70949 13.8305C3.37891 14.4604 2.5 14.8771 2.5 15.6998C2.5 16.2971 3.14902 16.667 3.75 16.667C4.52473 16.667 5.69457 15.6322 6.54906 13.8891C7.43609 13.5391 8.53883 13.2799 9.40918 13.1176C10.1066 13.6539 10.8769 14.167 11.25 14.167C12.2831 14.167 12.5 13.5696 12.5 13.0687C12.5 12.0836 11.3745 12.0836 10.8333 12.0836C10.6653 12.0837 10.2145 12.1333 9.62441 12.2322ZM3.75 15.8337C3.51195 15.8337 3.35082 15.7214 3.33332 15.6998C3.33332 15.4044 4.21426 14.9869 5.06633 14.5833C5.12043 14.5577 5.17539 14.532 5.23113 14.5055C4.60531 15.413 3.98641 15.8337 3.75 15.8337ZM6.66668 8.37355C6.66668 7.50035 6.9377 7.50035 7.08336 7.50035C7.37797 7.50035 7.50004 7.50035 7.50004 8.33367C7.50004 8.50945 7.38285 8.94891 7.1684 9.63496C6.84121 9.13121 6.66668 8.69949 6.66668 8.37355ZM6.98609 12.8519C7.01215 12.7795 7.03738 12.7063 7.0618 12.6322C7.21641 12.1683 7.35559 11.7516 7.47969 11.3765C7.65262 11.5669 7.83898 11.7618 8.03879 11.9616C8.11691 12.0397 8.31059 12.2155 8.56859 12.4356C8.055 12.5475 7.50855 12.6863 6.98609 12.8519ZM11.6667 13.0688C11.6667 13.256 11.6667 13.3337 11.2801 13.3361C11.1666 13.3117 10.9041 13.1571 10.5802 12.9366C10.6978 12.9236 10.7845 12.917 10.8333 12.917C11.449 12.917 11.6236 12.9772 11.6667 13.0688Z"
                                    fill="#0A82FD"
                                  />
                                </svg>
                              ) : document?.extension === 'doc' ||
                                document?.extension === 'docx' ||
                                document?.extension === 'txt' ||
                                document?.extension === 'ppt' ? (
                                <svg
                                  width="17"
                                  height="18"
                                  viewBox="0 0 17 18"
                                  fill="none"
                                  xmlns="http://www.w3.org/2000/svg"
                                >
                                  <path
                                    d="M16.8648 4.87114L12.2791 0.106102C12.2138 0.0383203 12.1237 0 12.0296 0H5.1949C4.43 0 3.8077 0.622055 3.8077 1.38663V6.23078H1.03785C0.465574 6.23078 0 6.69621 0 7.26834V12.4625C0 13.0346 0.465574 13.5 1.03785 13.5H3.8077V16.6158C3.8077 17.379 4.43 18 5.1949 18H15.5744C16.3393 18 16.9616 17.3794 16.9616 16.6166V5.11119C16.9616 5.02168 16.9269 4.93566 16.8648 4.87114ZM12.1154 0.934488L15.8799 4.84615H12.1154V0.934488ZM1.03785 12.8077C0.847301 12.8077 0.692332 12.6528 0.692332 12.4625V7.26834C0.692332 7.07797 0.847336 6.92307 1.03785 6.92307H10.3852C10.5757 6.92307 10.7308 7.07797 10.7308 7.26834V12.4625C10.7308 12.6528 10.5757 12.8077 10.3852 12.8077H1.03785ZM16.2692 16.6166C16.2692 16.9977 15.9575 17.3077 15.5743 17.3077H5.1949C4.81173 17.3077 4.5 16.9973 4.5 16.6158V13.5H10.3852C10.9575 13.5 11.4231 13.0346 11.4231 12.4625V7.26834C11.4231 6.69621 10.9575 6.23078 10.3852 6.23078H4.5V1.38663C4.5 1.00375 4.81173 0.692297 5.1949 0.692297H11.4231V5.1923C11.4231 5.38348 11.5781 5.53844 11.7692 5.53844H16.2692V16.6166Z"
                                    fill="#EF5DA8"
                                  />
                                  <path
                                    d="M4.08081 9.26147C4.01591 9.07152 3.92134 8.911 3.79689 8.77979C3.67254 8.64863 3.52309 8.55739 3.34865 8.506C3.21885 8.46806 3.03027 8.44922 2.78277 8.44922H1.68555V11.4226H2.81522C3.03702 11.4226 3.21418 11.4017 3.34664 11.3597C3.5238 11.3029 3.66442 11.2238 3.76852 11.1224C3.90647 10.9885 4.01257 10.8134 4.087 10.5971C4.14782 10.4199 4.17819 10.2091 4.17819 9.96424C4.17816 9.68577 4.14571 9.45149 4.08081 9.26147ZM3.49666 10.4825C3.45616 10.6157 3.4037 10.7113 3.33951 10.7695C3.27528 10.8276 3.19445 10.8689 3.09711 10.8932C3.02279 10.9122 2.90171 10.9216 2.73408 10.9216H2.28584V8.95213H2.55556C2.80039 8.95213 2.96464 8.96159 3.04848 8.98054C3.16074 9.00493 3.25334 9.05159 3.32636 9.12046C3.39931 9.18943 3.45616 9.28548 3.49666 9.40856C3.53723 9.53154 3.55758 9.70799 3.55758 9.93791C3.55762 10.1678 3.53726 10.3493 3.49666 10.4825Z"
                                    fill="#EF5DA8"
                                  />
                                  <path
                                    d="M9.82048 10.3293C9.77039 10.547 9.68791 10.7066 9.57298 10.8079C9.45806 10.9094 9.32081 10.9601 9.16123 10.9601C8.94488 10.9601 8.76914 10.8803 8.63396 10.7208C8.49871 10.5612 8.43111 10.2935 8.43111 9.91757C8.43111 9.56337 8.49973 9.30712 8.63698 9.14895C8.77423 8.99068 8.95304 8.91154 9.17343 8.91154C9.33301 8.91154 9.46854 8.95619 9.58009 9.04542C9.69164 9.13471 9.76504 9.25639 9.80016 9.41051L10.3944 9.26848C10.3269 9.03051 10.2254 8.84802 10.0903 8.72089C9.86309 8.50595 9.56768 8.39844 9.20395 8.39844C8.78742 8.39844 8.45139 8.53534 8.19588 8.80917C7.94033 9.083 7.8125 9.46729 7.8125 9.96219C7.8125 10.43 7.93962 10.7988 8.19387 11.0686C8.44802 11.3383 8.77255 11.4732 9.16742 11.4732C9.48646 11.4732 9.74982 11.3945 9.95742 11.2369C10.1649 11.0794 10.3133 10.8384 10.4026 10.5139L9.82048 10.3293Z"
                                    fill="#EF5DA8"
                                  />
                                  <path
                                    d="M7.05513 8.80614C6.79205 8.53432 6.44158 8.39844 6.00343 8.39844C5.76137 8.39844 5.5478 8.43764 5.36253 8.51603C5.22327 8.57418 5.09513 8.66341 4.9782 8.78379C4.8612 8.90405 4.76895 9.04 4.70127 9.19146C4.61068 9.39698 4.56543 9.65116 4.56543 9.95403C4.56543 10.4273 4.69593 10.7988 4.95682 11.0686C5.21782 11.3383 5.56946 11.4732 6.01158 11.4732C6.44833 11.4732 6.79718 11.3377 7.05818 11.0666C7.31908 10.7954 7.44958 10.4199 7.44958 9.93983C7.44958 9.45576 7.31809 9.07787 7.05513 8.80614ZM6.59873 10.7015C6.4453 10.8739 6.24885 10.9601 6.00947 10.9601C5.7702 10.9601 5.5728 10.8732 5.4173 10.6995C5.2618 10.5257 5.184 10.2705 5.184 9.93385C5.184 9.59175 5.25973 9.33584 5.41115 9.16614C5.5626 8.99644 5.76208 8.91154 6.00947 8.91154C6.25697 8.91154 6.45539 8.99539 6.60477 9.16312C6.75422 9.33075 6.82889 9.585 6.82889 9.9257C6.82889 10.2705 6.75222 10.5291 6.59873 10.7015Z"
                                    fill="#EF5DA8"
                                  />
                                </svg>
                              ) : document?.extension === 'jpg' ||
                                document?.extension === 'jpeg' ||
                                document?.extension === 'png' ||
                                document?.extension === 'gif' ? (
                                <svg
                                  width="17"
                                  height="18"
                                  viewBox="0 0 17 18"
                                  fill="none"
                                  xmlns="http://www.w3.org/2000/svg"
                                >
                                  <path
                                    d="M16.8648 4.87114L12.2791 0.106102C12.2138 0.0383203 12.1237 0 12.0296 0H5.1949C4.43 0 3.8077 0.622055 3.8077 1.38663V6.23078H1.03785C0.465574 6.23078 0 6.69621 0 7.26834V12.4625C0 13.0346 0.465574 13.5 1.03785 13.5H3.8077V16.6158C3.8077 17.379 4.43 18 5.1949 18H15.5744C16.3393 18 16.9616 17.3794 16.9616 16.6166V5.11119C16.9616 5.02168 16.9269 4.93566 16.8648 4.87114ZM12.1154 0.934488L15.8799 4.84615H12.1154V0.934488ZM1.03785 12.8077C0.847301 12.8077 0.692332 12.6528 0.692332 12.4625V7.26834C0.692332 7.07797 0.847336 6.92307 1.03785 6.92307H10.3853C10.5758 6.92307 10.7308 7.07797 10.7308 7.26834V12.4625C10.7308 12.6528 10.5758 12.8077 10.3853 12.8077H1.03785ZM16.2692 16.6166C16.2692 16.9977 15.9575 17.3077 15.5743 17.3077H5.1949C4.81173 17.3077 4.5 16.9973 4.5 16.6158V13.5H10.3853C10.9575 13.5 11.4231 13.0346 11.4231 12.4625V7.26834C11.4231 6.69621 10.9575 6.23078 10.3853 6.23078H4.5V1.38663C4.5 1.00375 4.81173 0.692297 5.1949 0.692297H11.4231V5.1923C11.4231 5.38348 11.5781 5.53844 11.7692 5.53844H16.2692V16.6166Z"
                                    fill="#27AE60"
                                  />
                                  <path
                                    d="M8.15071 9.82932V10.3303H8.8383V10.7076C8.7477 10.7779 8.63918 10.8377 8.51275 10.8871C8.38633 10.9364 8.26023 10.9611 8.13447 10.9611C7.88026 10.9611 7.67473 10.8729 7.5179 10.6965C7.36104 10.52 7.28264 10.2553 7.28264 9.90238C7.28264 9.57518 7.36005 9.32835 7.51488 9.16202C7.66971 8.9957 7.87825 8.91252 8.14059 8.91252C8.31366 8.91252 8.45802 8.95485 8.57361 9.03929C8.6892 9.12384 8.76795 9.23912 8.80993 9.38513L9.40618 9.27357C9.34673 9.00045 9.21321 8.78645 9.00561 8.63162C8.79808 8.47679 8.50973 8.39941 8.14059 8.39941C7.85663 8.39941 7.61933 8.44874 7.42868 8.54749C7.17854 8.67592 6.98855 8.86049 6.85876 9.10117C6.72896 9.34185 6.66406 9.61702 6.66406 9.92664C6.66406 10.212 6.72221 10.476 6.83847 10.7186C6.95477 10.9614 7.12851 11.148 7.35973 11.2785C7.59096 11.409 7.86205 11.4742 8.17307 11.4742C8.41783 11.4742 8.6595 11.4279 8.89817 11.3352C9.13685 11.2426 9.31899 11.1355 9.44485 11.0138V9.82929H8.15071V9.82932Z"
                                    fill="#27AE60"
                                  />
                                  <path
                                    d="M6.1024 8.78489C5.98748 8.63544 5.84481 8.53845 5.67445 8.49376C5.56356 8.46398 5.32559 8.44922 4.96049 8.44922H3.99707V11.4226H4.59743V10.301H4.9889C5.26069 10.301 5.46825 10.2868 5.61155 10.2584C5.71702 10.2354 5.8208 10.1884 5.92289 10.1174C6.02499 10.0465 6.10915 9.94874 6.17542 9.82432C6.24169 9.69997 6.27481 9.54645 6.27481 9.36391C6.27481 9.12735 6.21733 8.93427 6.1024 8.78489ZM5.58824 9.60329C5.54296 9.66949 5.48042 9.71822 5.40061 9.7493C5.32084 9.78034 5.16264 9.79591 4.926 9.79591H4.59743V8.95216H4.88747C5.10382 8.95216 5.24782 8.95891 5.31947 8.97241C5.41682 8.99006 5.49729 9.03394 5.56082 9.10429C5.62438 9.17456 5.65616 9.26386 5.65616 9.37204C5.6562 9.45989 5.63356 9.53699 5.58824 9.60329Z"
                                    fill="#27AE60"
                                  />
                                  <path
                                    d="M2.76021 8.44922V10.3699C2.76021 10.6106 2.73251 10.7691 2.67707 10.8455C2.62162 10.922 2.52698 10.9601 2.39311 10.9601C2.26061 10.9601 2.16189 10.9067 2.09699 10.7999C2.05371 10.7296 2.02871 10.6093 2.02193 10.4389L1.45605 10.5038C1.45739 10.8216 1.5372 11.0626 1.6954 11.2268C1.8536 11.3911 2.07941 11.4733 2.37282 11.4733C2.62296 11.4733 2.82444 11.4208 2.97723 11.3161C3.13002 11.2113 3.23549 11.0723 3.29364 10.8993C3.33691 10.7668 3.35854 10.5774 3.35854 10.3314V8.44922H2.76021Z"
                                    fill="#27AE60"
                                  />
                                </svg>
                              ) : (
                                <svg
                                  width="18"
                                  height="18"
                                  viewBox="0 0 18 18"
                                  fill="none"
                                  xmlns="http://www.w3.org/2000/svg"
                                >
                                  <path
                                    d="M17.3677 4.87114L12.782 0.106102C12.7167 0.0383203 12.6266 0 12.5326 0H5.69783C4.93293 0 4.31063 0.622055 4.31063 1.38663V6.23078H1.54078C0.968504 6.23078 0.50293 6.69621 0.50293 7.26834V12.4625C0.50293 13.0346 0.968504 13.5 1.54078 13.5H4.31063V16.6158C4.31063 17.379 4.93293 18 5.69783 18H16.0773C16.8422 18 17.4645 17.3794 17.4645 16.6166V5.11119C17.4645 5.02168 17.4298 4.93566 17.3677 4.87114ZM12.6183 0.934488L16.3828 4.84615H12.6183V0.934488ZM1.54078 12.8077C1.35023 12.8077 1.19526 12.6528 1.19526 12.4625V7.26834C1.19526 7.07797 1.35027 6.92307 1.54078 6.92307H10.8882C11.0787 6.92307 11.2337 7.07797 11.2337 7.26834V12.4625C11.2337 12.6528 11.0787 12.8077 10.8882 12.8077H1.54078ZM16.7722 16.6166C16.7722 16.9977 16.4604 17.3077 16.0773 17.3077H5.69783C5.31466 17.3077 5.00293 16.9973 5.00293 16.6158V13.5H10.8881C11.4604 13.5 11.926 13.0346 11.926 12.4625V7.26834C11.926 6.69621 11.4604 6.23078 10.8881 6.23078H5.00293V1.38663C5.00293 1.00375 5.31466 0.692297 5.69783 0.692297H11.926V5.1923C11.926 5.38348 12.081 5.53844 12.2722 5.53844H16.7722V16.6166Z"
                                    fill="#9B51E0"
                                  ></path>
                                  <path
                                    d="M6.6931 8.4502H6.09277V11.4236H6.6931V8.4502Z"
                                    fill="#9B51E0"
                                  ></path>
                                  <path
                                    d="M4.04048 10.9216L5.6691 8.91567V8.44922H3.49286V8.95216H4.87808L3.31641 10.881V11.4226H5.73203V10.9216H4.04048Z"
                                    fill="#9B51E0"
                                  ></path>
                                  <path
                                    d="M9.37106 8.78489C9.25603 8.63544 9.11344 8.53845 8.94304 8.49376C8.83219 8.46398 8.59421 8.44922 8.22908 8.44922H7.26562V11.4226H7.86602V10.301H8.25742C8.52925 10.301 8.73674 10.2868 8.88014 10.2584C8.98554 10.2354 9.08939 10.1884 9.19141 10.1174C9.29354 10.0464 9.37774 9.94874 9.44394 9.82432C9.51025 9.69997 9.54336 9.54645 9.54336 9.36391C9.54343 9.12735 9.48599 8.93427 9.37106 8.78489ZM8.85687 9.60329C8.81159 9.66949 8.74904 9.71822 8.66924 9.7493C8.58943 9.78034 8.43127 9.79591 8.19466 9.79591H7.86609V8.95216H8.1561C8.37252 8.95216 8.51652 8.95891 8.58817 8.97241C8.68552 8.99006 8.76592 9.03394 8.82952 9.10429C8.89304 9.17456 8.92479 9.26386 8.92479 9.37204C8.92479 9.45989 8.90222 9.53699 8.85687 9.60329Z"
                                    fill="#9B51E0"
                                  ></path>
                                </svg>
                              )}
                            </div>
                            <p className="crancy-table-file__title">
                              {document?.fileName}
                              {document?.extension}
                            </p>
                          </div>
                        </td>
                        <td className="crancy-table__column-3 crancy-table__data-4">
                          <h5
                            className={`crancy-table__inner--title ${
                              document.type === 'pdf'
                                ? 'crancy-color1'
                                : document?.extension === 'doc' ||
                                  document?.extension === 'docx' ||
                                  document?.extension === 'txt' ||
                                  document?.extension === 'ppt'
                                ? 'crancy-color2'
                                : document?.extension === 'jpg' ||
                                  document?.extension === 'jpeg' ||
                                  document?.extension === 'png' ||
                                  document?.extension === 'gif'
                                ? 'crancy-color8'
                                : 'crancy-color6'
                            }`}
                          >
                            {document?.extension}
                          </h5>
                        </td>
                        <td className="crancy-table__column-4 crancy-table__data-5">
                          <h5 className="crancy-table__inner--title">
                            {document?.size}
                          </h5>
                        </td>
                        <td className="crancy-table__column-5 crancy-table__data-6">
                          <p className="crancy-table__text crancy-table__time">
                            {getFormattedDate(document?.dischargeDate)}
                          </p>
                        </td>
                        <td className="crancy-table__column-6 crancy-table__data-7">
                          <div className="crancy-flex-between  crancy-table_buttons">
                            <a
                              href={getUrlDownloadDocument(document)}
                              className="crancy-btn crancy-gbcolor"
                              download={
                                document?.fileName + document?.extension
                              }
                            >
                              Descargar
                              <img src={downloadIcon} alt="Imagen de descarga de documento" />
                            </a>
                          </div>
                        </td>
                      </tr>
                    );
                  } else if (page == 1) {
                    return (
                      index < page * show && (
                        <tr key={index + 'key'}>
                          <td className="crancy-table__column-5 crancy-table__data-2">
                            <p className="crancy-table__text">
                              {document?.module === 'membershipfees'
                                ? 'Cuotas de socio'
                                : document?.module === 'partners'
                                ? 'Socio'
                                : document?.module === 'associations'
                                ? 'Asociación'
                                : ''}
                            </p>
                          </td>
                          <td className="crancy-table__column-2 crancy-table__data-3">
                            <div className="crancy-table-file">
                              <div className="crancy-table-file__icon crancy-color5__opacity--bg">
                                {document?.extension === 'pdf' ? (
                                  <svg
                                    className="crancy-color1__fill"
                                    width="15"
                                    height="20"
                                    viewBox="0 0 15 20"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                  >
                                    <path
                                      d="M14.8779 4.28875L10.7113 0.12207C10.6331 0.0439453 10.5273 0 10.4166 0H1.66664C0.747461 0 0 0.747461 0 1.66668V18.3334C0 19.2525 0.747461 20 1.66668 20H13.3334C14.2525 20 15 19.2525 15 18.3333V4.58332C15 4.47266 14.9561 4.36688 14.8779 4.28875ZM10.8333 1.42254L13.5775 4.16668H11.6666C11.2073 4.16668 10.8333 3.79273 10.8333 3.33336V1.42254ZM14.1667 18.3333C14.1667 18.7927 13.7927 19.1666 13.3334 19.1666H1.66668C1.2073 19.1666 0.833359 18.7927 0.833359 18.3333V1.66668C0.833359 1.2073 1.2073 0.833359 1.66668 0.833359H10V3.33336C10 4.25254 10.7475 5 11.6667 5H14.1667V18.3333Z"
                                      fill="#0A82FD"
                                    />
                                    <path
                                      d="M9.62441 12.2322C9.23867 11.9286 8.87207 11.6166 8.62793 11.3724C8.31055 11.055 8.02773 10.7474 7.78199 10.4545C8.16531 9.26996 8.33336 8.65922 8.33336 8.33367C8.33336 6.95062 7.83367 6.66699 7.08336 6.66699C6.51328 6.66699 5.83336 6.9632 5.83336 8.37355C5.83336 8.99531 6.17395 9.75012 6.84898 10.6274C6.68379 11.1315 6.48969 11.713 6.2716 12.3685C6.1666 12.683 6.0527 12.9744 5.93223 13.2438C5.83418 13.2873 5.73895 13.3316 5.64699 13.3776C5.31578 13.5432 5.00125 13.6921 4.70949 13.8305C3.37891 14.4604 2.5 14.8771 2.5 15.6998C2.5 16.2971 3.14902 16.667 3.75 16.667C4.52473 16.667 5.69457 15.6322 6.54906 13.8891C7.43609 13.5391 8.53883 13.2799 9.40918 13.1176C10.1066 13.6539 10.8769 14.167 11.25 14.167C12.2831 14.167 12.5 13.5696 12.5 13.0687C12.5 12.0836 11.3745 12.0836 10.8333 12.0836C10.6653 12.0837 10.2145 12.1333 9.62441 12.2322ZM3.75 15.8337C3.51195 15.8337 3.35082 15.7214 3.33332 15.6998C3.33332 15.4044 4.21426 14.9869 5.06633 14.5833C5.12043 14.5577 5.17539 14.532 5.23113 14.5055C4.60531 15.413 3.98641 15.8337 3.75 15.8337ZM6.66668 8.37355C6.66668 7.50035 6.9377 7.50035 7.08336 7.50035C7.37797 7.50035 7.50004 7.50035 7.50004 8.33367C7.50004 8.50945 7.38285 8.94891 7.1684 9.63496C6.84121 9.13121 6.66668 8.69949 6.66668 8.37355ZM6.98609 12.8519C7.01215 12.7795 7.03738 12.7063 7.0618 12.6322C7.21641 12.1683 7.35559 11.7516 7.47969 11.3765C7.65262 11.5669 7.83898 11.7618 8.03879 11.9616C8.11691 12.0397 8.31059 12.2155 8.56859 12.4356C8.055 12.5475 7.50855 12.6863 6.98609 12.8519ZM11.6667 13.0688C11.6667 13.256 11.6667 13.3337 11.2801 13.3361C11.1666 13.3117 10.9041 13.1571 10.5802 12.9366C10.6978 12.9236 10.7845 12.917 10.8333 12.917C11.449 12.917 11.6236 12.9772 11.6667 13.0688Z"
                                      fill="#0A82FD"
                                    />
                                  </svg>
                                ) : document?.extension === 'doc' ||
                                  document?.extension === 'docx' ||
                                  document?.extension === 'txt' ||
                                  document?.extension === 'ppt' ? (
                                  <svg
                                    width="17"
                                    height="18"
                                    viewBox="0 0 17 18"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                  >
                                    <path
                                      d="M16.8648 4.87114L12.2791 0.106102C12.2138 0.0383203 12.1237 0 12.0296 0H5.1949C4.43 0 3.8077 0.622055 3.8077 1.38663V6.23078H1.03785C0.465574 6.23078 0 6.69621 0 7.26834V12.4625C0 13.0346 0.465574 13.5 1.03785 13.5H3.8077V16.6158C3.8077 17.379 4.43 18 5.1949 18H15.5744C16.3393 18 16.9616 17.3794 16.9616 16.6166V5.11119C16.9616 5.02168 16.9269 4.93566 16.8648 4.87114ZM12.1154 0.934488L15.8799 4.84615H12.1154V0.934488ZM1.03785 12.8077C0.847301 12.8077 0.692332 12.6528 0.692332 12.4625V7.26834C0.692332 7.07797 0.847336 6.92307 1.03785 6.92307H10.3852C10.5757 6.92307 10.7308 7.07797 10.7308 7.26834V12.4625C10.7308 12.6528 10.5757 12.8077 10.3852 12.8077H1.03785ZM16.2692 16.6166C16.2692 16.9977 15.9575 17.3077 15.5743 17.3077H5.1949C4.81173 17.3077 4.5 16.9973 4.5 16.6158V13.5H10.3852C10.9575 13.5 11.4231 13.0346 11.4231 12.4625V7.26834C11.4231 6.69621 10.9575 6.23078 10.3852 6.23078H4.5V1.38663C4.5 1.00375 4.81173 0.692297 5.1949 0.692297H11.4231V5.1923C11.4231 5.38348 11.5781 5.53844 11.7692 5.53844H16.2692V16.6166Z"
                                      fill="#EF5DA8"
                                    />
                                    <path
                                      d="M4.08081 9.26147C4.01591 9.07152 3.92134 8.911 3.79689 8.77979C3.67254 8.64863 3.52309 8.55739 3.34865 8.506C3.21885 8.46806 3.03027 8.44922 2.78277 8.44922H1.68555V11.4226H2.81522C3.03702 11.4226 3.21418 11.4017 3.34664 11.3597C3.5238 11.3029 3.66442 11.2238 3.76852 11.1224C3.90647 10.9885 4.01257 10.8134 4.087 10.5971C4.14782 10.4199 4.17819 10.2091 4.17819 9.96424C4.17816 9.68577 4.14571 9.45149 4.08081 9.26147ZM3.49666 10.4825C3.45616 10.6157 3.4037 10.7113 3.33951 10.7695C3.27528 10.8276 3.19445 10.8689 3.09711 10.8932C3.02279 10.9122 2.90171 10.9216 2.73408 10.9216H2.28584V8.95213H2.55556C2.80039 8.95213 2.96464 8.96159 3.04848 8.98054C3.16074 9.00493 3.25334 9.05159 3.32636 9.12046C3.39931 9.18943 3.45616 9.28548 3.49666 9.40856C3.53723 9.53154 3.55758 9.70799 3.55758 9.93791C3.55762 10.1678 3.53726 10.3493 3.49666 10.4825Z"
                                      fill="#EF5DA8"
                                    />
                                    <path
                                      d="M9.82048 10.3293C9.77039 10.547 9.68791 10.7066 9.57298 10.8079C9.45806 10.9094 9.32081 10.9601 9.16123 10.9601C8.94488 10.9601 8.76914 10.8803 8.63396 10.7208C8.49871 10.5612 8.43111 10.2935 8.43111 9.91757C8.43111 9.56337 8.49973 9.30712 8.63698 9.14895C8.77423 8.99068 8.95304 8.91154 9.17343 8.91154C9.33301 8.91154 9.46854 8.95619 9.58009 9.04542C9.69164 9.13471 9.76504 9.25639 9.80016 9.41051L10.3944 9.26848C10.3269 9.03051 10.2254 8.84802 10.0903 8.72089C9.86309 8.50595 9.56768 8.39844 9.20395 8.39844C8.78742 8.39844 8.45139 8.53534 8.19588 8.80917C7.94033 9.083 7.8125 9.46729 7.8125 9.96219C7.8125 10.43 7.93962 10.7988 8.19387 11.0686C8.44802 11.3383 8.77255 11.4732 9.16742 11.4732C9.48646 11.4732 9.74982 11.3945 9.95742 11.2369C10.1649 11.0794 10.3133 10.8384 10.4026 10.5139L9.82048 10.3293Z"
                                      fill="#EF5DA8"
                                    />
                                    <path
                                      d="M7.05513 8.80614C6.79205 8.53432 6.44158 8.39844 6.00343 8.39844C5.76137 8.39844 5.5478 8.43764 5.36253 8.51603C5.22327 8.57418 5.09513 8.66341 4.9782 8.78379C4.8612 8.90405 4.76895 9.04 4.70127 9.19146C4.61068 9.39698 4.56543 9.65116 4.56543 9.95403C4.56543 10.4273 4.69593 10.7988 4.95682 11.0686C5.21782 11.3383 5.56946 11.4732 6.01158 11.4732C6.44833 11.4732 6.79718 11.3377 7.05818 11.0666C7.31908 10.7954 7.44958 10.4199 7.44958 9.93983C7.44958 9.45576 7.31809 9.07787 7.05513 8.80614ZM6.59873 10.7015C6.4453 10.8739 6.24885 10.9601 6.00947 10.9601C5.7702 10.9601 5.5728 10.8732 5.4173 10.6995C5.2618 10.5257 5.184 10.2705 5.184 9.93385C5.184 9.59175 5.25973 9.33584 5.41115 9.16614C5.5626 8.99644 5.76208 8.91154 6.00947 8.91154C6.25697 8.91154 6.45539 8.99539 6.60477 9.16312C6.75422 9.33075 6.82889 9.585 6.82889 9.9257C6.82889 10.2705 6.75222 10.5291 6.59873 10.7015Z"
                                      fill="#EF5DA8"
                                    />
                                  </svg>
                                ) : document?.extension === 'jpg' ||
                                  document?.extension === 'jpeg' ||
                                  document?.extension === 'png' ||
                                  document?.extension === 'gif' ? (
                                  <svg
                                    width="17"
                                    height="18"
                                    viewBox="0 0 17 18"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                  >
                                    <path
                                      d="M16.8648 4.87114L12.2791 0.106102C12.2138 0.0383203 12.1237 0 12.0296 0H5.1949C4.43 0 3.8077 0.622055 3.8077 1.38663V6.23078H1.03785C0.465574 6.23078 0 6.69621 0 7.26834V12.4625C0 13.0346 0.465574 13.5 1.03785 13.5H3.8077V16.6158C3.8077 17.379 4.43 18 5.1949 18H15.5744C16.3393 18 16.9616 17.3794 16.9616 16.6166V5.11119C16.9616 5.02168 16.9269 4.93566 16.8648 4.87114ZM12.1154 0.934488L15.8799 4.84615H12.1154V0.934488ZM1.03785 12.8077C0.847301 12.8077 0.692332 12.6528 0.692332 12.4625V7.26834C0.692332 7.07797 0.847336 6.92307 1.03785 6.92307H10.3853C10.5758 6.92307 10.7308 7.07797 10.7308 7.26834V12.4625C10.7308 12.6528 10.5758 12.8077 10.3853 12.8077H1.03785ZM16.2692 16.6166C16.2692 16.9977 15.9575 17.3077 15.5743 17.3077H5.1949C4.81173 17.3077 4.5 16.9973 4.5 16.6158V13.5H10.3853C10.9575 13.5 11.4231 13.0346 11.4231 12.4625V7.26834C11.4231 6.69621 10.9575 6.23078 10.3853 6.23078H4.5V1.38663C4.5 1.00375 4.81173 0.692297 5.1949 0.692297H11.4231V5.1923C11.4231 5.38348 11.5781 5.53844 11.7692 5.53844H16.2692V16.6166Z"
                                      fill="#27AE60"
                                    />
                                    <path
                                      d="M8.15071 9.82932V10.3303H8.8383V10.7076C8.7477 10.7779 8.63918 10.8377 8.51275 10.8871C8.38633 10.9364 8.26023 10.9611 8.13447 10.9611C7.88026 10.9611 7.67473 10.8729 7.5179 10.6965C7.36104 10.52 7.28264 10.2553 7.28264 9.90238C7.28264 9.57518 7.36005 9.32835 7.51488 9.16202C7.66971 8.9957 7.87825 8.91252 8.14059 8.91252C8.31366 8.91252 8.45802 8.95485 8.57361 9.03929C8.6892 9.12384 8.76795 9.23912 8.80993 9.38513L9.40618 9.27357C9.34673 9.00045 9.21321 8.78645 9.00561 8.63162C8.79808 8.47679 8.50973 8.39941 8.14059 8.39941C7.85663 8.39941 7.61933 8.44874 7.42868 8.54749C7.17854 8.67592 6.98855 8.86049 6.85876 9.10117C6.72896 9.34185 6.66406 9.61702 6.66406 9.92664C6.66406 10.212 6.72221 10.476 6.83847 10.7186C6.95477 10.9614 7.12851 11.148 7.35973 11.2785C7.59096 11.409 7.86205 11.4742 8.17307 11.4742C8.41783 11.4742 8.6595 11.4279 8.89817 11.3352C9.13685 11.2426 9.31899 11.1355 9.44485 11.0138V9.82929H8.15071V9.82932Z"
                                      fill="#27AE60"
                                    />
                                    <path
                                      d="M6.1024 8.78489C5.98748 8.63544 5.84481 8.53845 5.67445 8.49376C5.56356 8.46398 5.32559 8.44922 4.96049 8.44922H3.99707V11.4226H4.59743V10.301H4.9889C5.26069 10.301 5.46825 10.2868 5.61155 10.2584C5.71702 10.2354 5.8208 10.1884 5.92289 10.1174C6.02499 10.0465 6.10915 9.94874 6.17542 9.82432C6.24169 9.69997 6.27481 9.54645 6.27481 9.36391C6.27481 9.12735 6.21733 8.93427 6.1024 8.78489ZM5.58824 9.60329C5.54296 9.66949 5.48042 9.71822 5.40061 9.7493C5.32084 9.78034 5.16264 9.79591 4.926 9.79591H4.59743V8.95216H4.88747C5.10382 8.95216 5.24782 8.95891 5.31947 8.97241C5.41682 8.99006 5.49729 9.03394 5.56082 9.10429C5.62438 9.17456 5.65616 9.26386 5.65616 9.37204C5.6562 9.45989 5.63356 9.53699 5.58824 9.60329Z"
                                      fill="#27AE60"
                                    />
                                    <path
                                      d="M2.76021 8.44922V10.3699C2.76021 10.6106 2.73251 10.7691 2.67707 10.8455C2.62162 10.922 2.52698 10.9601 2.39311 10.9601C2.26061 10.9601 2.16189 10.9067 2.09699 10.7999C2.05371 10.7296 2.02871 10.6093 2.02193 10.4389L1.45605 10.5038C1.45739 10.8216 1.5372 11.0626 1.6954 11.2268C1.8536 11.3911 2.07941 11.4733 2.37282 11.4733C2.62296 11.4733 2.82444 11.4208 2.97723 11.3161C3.13002 11.2113 3.23549 11.0723 3.29364 10.8993C3.33691 10.7668 3.35854 10.5774 3.35854 10.3314V8.44922H2.76021Z"
                                      fill="#27AE60"
                                    />
                                  </svg>
                                ) : (
                                  <svg
                                    width="18"
                                    height="18"
                                    viewBox="0 0 18 18"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                  >
                                    <path
                                      d="M17.3677 4.87114L12.782 0.106102C12.7167 0.0383203 12.6266 0 12.5326 0H5.69783C4.93293 0 4.31063 0.622055 4.31063 1.38663V6.23078H1.54078C0.968504 6.23078 0.50293 6.69621 0.50293 7.26834V12.4625C0.50293 13.0346 0.968504 13.5 1.54078 13.5H4.31063V16.6158C4.31063 17.379 4.93293 18 5.69783 18H16.0773C16.8422 18 17.4645 17.3794 17.4645 16.6166V5.11119C17.4645 5.02168 17.4298 4.93566 17.3677 4.87114ZM12.6183 0.934488L16.3828 4.84615H12.6183V0.934488ZM1.54078 12.8077C1.35023 12.8077 1.19526 12.6528 1.19526 12.4625V7.26834C1.19526 7.07797 1.35027 6.92307 1.54078 6.92307H10.8882C11.0787 6.92307 11.2337 7.07797 11.2337 7.26834V12.4625C11.2337 12.6528 11.0787 12.8077 10.8882 12.8077H1.54078ZM16.7722 16.6166C16.7722 16.9977 16.4604 17.3077 16.0773 17.3077H5.69783C5.31466 17.3077 5.00293 16.9973 5.00293 16.6158V13.5H10.8881C11.4604 13.5 11.926 13.0346 11.926 12.4625V7.26834C11.926 6.69621 11.4604 6.23078 10.8881 6.23078H5.00293V1.38663C5.00293 1.00375 5.31466 0.692297 5.69783 0.692297H11.926V5.1923C11.926 5.38348 12.081 5.53844 12.2722 5.53844H16.7722V16.6166Z"
                                      fill="#9B51E0"
                                    ></path>
                                    <path
                                      d="M6.6931 8.4502H6.09277V11.4236H6.6931V8.4502Z"
                                      fill="#9B51E0"
                                    ></path>
                                    <path
                                      d="M4.04048 10.9216L5.6691 8.91567V8.44922H3.49286V8.95216H4.87808L3.31641 10.881V11.4226H5.73203V10.9216H4.04048Z"
                                      fill="#9B51E0"
                                    ></path>
                                    <path
                                      d="M9.37106 8.78489C9.25603 8.63544 9.11344 8.53845 8.94304 8.49376C8.83219 8.46398 8.59421 8.44922 8.22908 8.44922H7.26562V11.4226H7.86602V10.301H8.25742C8.52925 10.301 8.73674 10.2868 8.88014 10.2584C8.98554 10.2354 9.08939 10.1884 9.19141 10.1174C9.29354 10.0464 9.37774 9.94874 9.44394 9.82432C9.51025 9.69997 9.54336 9.54645 9.54336 9.36391C9.54343 9.12735 9.48599 8.93427 9.37106 8.78489ZM8.85687 9.60329C8.81159 9.66949 8.74904 9.71822 8.66924 9.7493C8.58943 9.78034 8.43127 9.79591 8.19466 9.79591H7.86609V8.95216H8.1561C8.37252 8.95216 8.51652 8.95891 8.58817 8.97241C8.68552 8.99006 8.76592 9.03394 8.82952 9.10429C8.89304 9.17456 8.92479 9.26386 8.92479 9.37204C8.92479 9.45989 8.90222 9.53699 8.85687 9.60329Z"
                                      fill="#9B51E0"
                                    ></path>
                                  </svg>
                                )}
                              </div>
                              <p className="crancy-table-file__title">
                                {document?.fileName}
                                {document?.extension}
                              </p>
                            </div>
                          </td>
                          <td className="crancy-table__column-3 crancy-table__data-4">
                            <h5
                              className={`crancy-table__inner--title ${
                                document?.extension === 'pdf'
                                  ? 'crancy-color1'
                                  : document?.extension === 'doc' ||
                                    document?.extension === 'docx' ||
                                    document?.extension === 'txt' ||
                                    document?.extension === 'ppt'
                                  ? 'crancy-color2'
                                  : document?.extension === 'jpg' ||
                                    document?.extension === 'jpeg' ||
                                    document?.extension === 'png' ||
                                    document?.extension === 'gif'
                                  ? 'crancy-color8'
                                  : 'crancy-color6'
                              }`}
                            >
                              {document?.extension}
                            </h5>
                          </td>
                          <td className="crancy-table__column-4 crancy-table__data-5">
                            <h5 className="crancy-table__inner--title">
                              {document?.size}
                            </h5>
                          </td>
                          <td className="crancy-table__column-5 crancy-table__data-6">
                            <p className="crancy-table__text crancy-table__time">
                              {getFormattedDate(document?.dischargeDate)}
                            </p>
                          </td>
                          <td className="crancy-table__column-6 crancy-table__data-7">
                            <div className="crancy-flex-between  crancy-table_buttons">
                              <a
                                href={getUrlDownloadDocument(document)}
                                className="crancy-btn crancy-gbcolor"
                                download={
                                  document?.fileName + document?.extension
                                }
                              >
                                Descargar
                                <img src={downloadIcon} alt="Imagen de descarga de documento" />
                              </a>
                            </div>
                          </td>
                        </tr>
                      )
                    );
                  }
                })}
              </tbody>
              {/* <!-- End crancy Table Body --> */}
            </table>
            {/* <!-- End crancy Table --> */}
            <div className="crancy-table-bottom">
              <div id="crancy-table__main_filter" className="dataTables_filter">
                <label>
                  Buscar:
                  <input
                    type="search"
                    className="form-control form-control-sm"
                    placeholder=""
                    aria-controls="crancy-table__main"
                  />
                </label>
              </div>
              <div className="dataTables_length" id="crancy-table__main_length">
                <label>
                  Mostrar resultado:
                  <select
                    name="crancy-table__main_length"
                    aria-controls="crancy-table__main"
                    className="form-select form-select-sm"
                    onChange={(e) => setShow(e.target.value)}
                    defaultValue={4}
                  >
                    <option value="4">4</option>
                    <option value="10">10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                  </select>
                </label>
              </div>
              <div
                className="dataTables_paginate paging_simple_numbers"
                id="crancy-table__main_paginate"
              >
                <ul className="pagination">
                  <li
                    className={`paginate_button page-item previous ${
                      page === 1 ? 'disabled' : ''
                    }`}
                    id="crancy-table__main_previous"
                    onClick={() => page > 1 && setPage(page - 1)}
                  >
                    <a
                      aria-controls="crancy-table__main"
                      data-dt-idx="previous"
                      tabIndex="0"
                      className="page-link"
                    >
                      <i className="fas fa-angle-left"></i>
                    </a>
                  </li>
                  {Array.from(
                    Array(Math.ceil(documents.length / show)).keys('n')
                  ).map((id, index) => (
                    <li
                      className={`paginate_button page-item ${
                        page === index + 1 ? 'active' : ''
                      }`}
                      onClick={() => setPage(index + 1)}
                      key={index + 'key'}
                    >
                      <a
                        aria-controls="crancy-table__main"
                        data-dt-idx="0"
                        tabIndex="0"
                        className="page-link"
                      >
                        {index + 1}
                      </a>
                    </li>
                  ))}
                  <li
                    className={`paginate_button page-item next ${
                      page === documents.length % show < 1 ? 'disabled' : ''
                    }`}
                    id="crancy-table__main_next"
                    onClick={() =>
                      page < Math.ceil(documents.length / show) &&
                      setPage(page + 1)
                    }
                  >
                    <a
                      aria-controls="crancy-table__main"
                      data-dt-idx="next"
                      tabIndex="0"
                      className="page-link"
                    >
                      <i className="fas fa-angle-right"></i>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

export default Documents;
